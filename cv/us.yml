region: us
population: &fpop data/usa/population.csv
basegraph: &fgraph data/usa/state_graph.pt
validation:
  days: &vdays 21
  output: validation-us.csv
forecast:
  output: forecast-us.csv
prediction_interval_:
  nsamples: 10
  output_mean: us_mean.csv
  output_std: us_std.csv
backfill:
  - 2020-04-05
  - 2020-04-08
  - 2020-04-12
  - 2020-04-15
  - 2020-04-19
  - 2020-04-22
  - 2020-04-26
  - 2020-04-29
  - 2020-05-01
  - 2020-05-03
  - 2020-05-06
metasir:
  data: data/usa/data.csv
  output: metasir_model.bin
  train:
    fpop: *fpop
    decay: rbf
    lr: 0.005
    weight_decay: 0
    niters: 10000
    method: euler
    loss: lsq
    t0: 10
    fit_on: -10
    test_on: *vdays
    adjoint: false    
ar:
  output: ar_model.bin
  data: data/usa/data_deaths.csv
  resources:
    gpus: 1
    cpus: 1
    memgb: 15
    timeout: 30
  train:
    fpop: *fpop
    # graph: *fgraph
    decay: [latent2_1, latent4_1, latent8_1, latent16_1]
    window: [10, 15, 20, 25]
    lr: [0.001, 0.005]
    momentum: [0.9]
    weight_decay: 0
    niters: 20000
    loss: nb
    t0: 10
    test_on: *vdays
sir:
  module: sir
  output: sir_model.npy
  data: data/usa/data.csv
  train:
    fpop: *fpop
    # window: [10, 15, 20, 25]
    # recovery_days: [10, 12, 14]
    # distancing_reduction: [0.2, 0.5, 0.75, 0.8, 0.9]
    window: 10
    recovery_days: 10
    distancing_reduction: 0.9
    days: *vdays
    # number of days to keep for forecast
    keep: *vdays
